(this["webpackJsonpcript-change"]=this["webpackJsonpcript-change"]||[]).push([[0],{106:function(e,a,t){"use strict";t.r(a);var n=t(4),c=t(0),i=t.n(c),r=t(8),l=t.n(r),o=t(29),s=t(160),u=t(64),j=t.n(u),d=function(){return function(e){return e({type:"SET_LOADING"}),j.a.get("https://min-api.cryptocompare.com/data/top/totalvolfull?limit=10&tsym=USD").then((function(a){var t=a.data.Data.map((function(e){return{name:e.CoinInfo.Name,fullName:e.CoinInfo.FullName,imageUrl:"https://www.cryptocompare.com/".concat(e.CoinInfo.ImageUrl),price:parseFloat(e.RAW.USD.PRICE),volume24hour:e.RAW.USD.VOLUME24HOUR.toFixed(3)}}));e({type:"COMPARE_PRICES",payload:t.map((function(e){return e.price}))}),e(function(e){return{type:"FETCH_CRYPTO",payload:e}}(t))}))}},b=t(150),O=t(154),p=t(153),f=t(149),m=t(151),h=t(152),g=t(163),x=t(145),v=function(e){var a=e.coins,t=e.loading,c=e.classes,i=e.setPrice,r=e.diff;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(x.a,{elevation:3,className:c.paper,children:Object(n.jsx)(f.a,{children:Object(n.jsxs)(b.a,{"aria-label":"simple table",children:[Object(n.jsx)(m.a,{children:Object(n.jsxs)(h.a,{children:[Object(n.jsx)(p.a,{align:"left"}),Object(n.jsx)(p.a,{align:"left",children:"Name"}),Object(n.jsx)(p.a,{align:"left",children:"FullName"}),Object(n.jsx)(p.a,{align:"left",children:"Price"}),Object(n.jsx)(p.a,{align:"left",children:"Volume 24h"})]})}),Object(n.jsx)(O.a,{children:t?Object(n.jsx)(h.a,{children:Object(n.jsx)(p.a,{component:"th",scope:"coin",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043e\u0438\u043d\u043e\u0432"})}):a.map((function(e,a){return Object(n.jsxs)(h.a,{className:c.tableRow,onClick:function(){return function(e){i(e)}(e)},children:[Object(n.jsx)(p.a,{component:"th",scope:"coin",children:Object(n.jsx)(g.a,{src:e.imageUrl,alt:"Coin icon"})}),Object(n.jsx)(p.a,{align:"left",children:e.name}),Object(n.jsx)(p.a,{align:"left",children:e.fullName}),Object(n.jsxs)(p.a,{className:"".concat(r[a]>0?c.priceUp:r[a]<0?c.priceDown:""),align:"left",children:["$",e.price]}),Object(n.jsxs)(p.a,{align:"left",children:["$",e.volume24hour]})]},"".concat(e.name)+"".concat(a))}))})]})})})})},C=t(26),N=t(164),E=t(161),y=t(162),P=t(155),_=t(166),R=function(e){var a=e.classes,t=e.coins,c=e.userCoin,r=(e.loading,i.a.useState(void 0!==t[0]?t[0].price:"")),l=Object(C.a)(r,2),o=l[0],s=l[1],u=i.a.useState(void 0!==t[0]?t[0].name:""),j=Object(C.a)(u,2),d=j[0],b=j[1],O=i.a.useState(void 0!==t[1]?t[1].price:""),p=Object(C.a)(O,2),f=p[0],m=p[1],h=i.a.useState(void 0!==t[1]?t[1].name:""),g=Object(C.a)(h,2),v=g[0],R=g[1],S=i.a.useRef(null),I=function(e){var a;return null===(a=t.find((function(a){return a.name===e})))||void 0===a?void 0:a.price};i.a.useEffect((function(){s(c.price),b(c.name),D(c.price,1,I(v)),c.name===v&&(R(""),m(0))}),[c]);var w=function(e,a,t){var n=Number(e)*Number(t)/Number(a);s(n)},D=function(e,a,t){var n=Number(e)*Number(a)/Number(t);console.log(o,a,t,e,n),m(n)};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(x.a,{elevation:3,className:a.paper,children:[Object(n.jsxs)("div",{className:a.inputWrapper,children:[Object(n.jsx)(P.a,{children:Object(n.jsx)(N.a,{label:"\u0421\u0443\u043c\u043c\u0430",variant:"outlined",value:o||"",onChange:function(e){return a=Number(e.target.value),console.log(a),s(a),void D(a,I(d),I(v));var a}})}),Object(n.jsxs)(P.a,{variant:"outlined",style:{minWidth:100},children:[Object(n.jsx)(_.a,{id:"demo-simple-select-outlined-label",children:"\u0412\u0430\u043b\u044e\u0442\u0430"}),Object(n.jsx)(E.a,{label:"\u0412\u0430\u043b\u044e\u0442\u0430",value:d||"",ref:S,onChange:function(e){return function(e){S&&S.current&&S.current.focus(),b(e.target.value),s(I(e.target.value)),D(1,I(e.target.value),I(v)),e.target.value===v&&(R(""),m(0))}(e)},children:t.map((function(e,a){return Object(n.jsx)(y.a,{value:e.name,children:e.name},a)}))})]})]}),Object(n.jsxs)("div",{className:a.inputWrapper,children:[Object(n.jsx)(P.a,{children:Object(n.jsx)(N.a,{variant:"outlined",label:"\u0421\u0443\u043c\u043c\u0430",value:f||"",onChange:function(e){return a=Number(e.target.value),m(a),void w(a,I(d),I(v));var a}})}),Object(n.jsxs)(P.a,{variant:"outlined",style:{minWidth:100},children:[Object(n.jsx)(_.a,{children:"\u0412\u0430\u043b\u044e\u0442\u0430"}),Object(n.jsx)(E.a,{label:"\u0412\u0430\u043b\u044e\u0442\u0430",variant:"outlined",value:v||"",onChange:function(e){return function(e){R(e.target.value),D(o,I(d),I(e.target.value)),e.target.value===d&&(b(""),s(0))}(e)},children:t.map((function(e,a){return Object(n.jsx)(y.a,{value:e.name,children:e.name},a)}))})]})]})]})})},S=i.a.memo(R),I=t(14),w=t(158),D=function(e){var a=e.classes,t=Object(o.c)((function(e){return e})),c=t.allCoins,r=t.loading,l=t.diff,s=i.a.useState(Object(I.a)({},c[0])),u=Object(C.a)(s,2),j=u[0],d=u[1];i.a.useEffect((function(){d(Object(I.a)(Object(I.a)({},j),c[0]))}),[]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(w.a,{className:a.gridWrapper,container:!0,spacing:3,children:[Object(n.jsx)(w.a,{item:!0,xs:10,sm:10,md:10,lg:4,children:Object(n.jsx)(S,{classes:a,coins:c,loading:r,userCoin:j})}),Object(n.jsx)(w.a,{item:!0,xs:10,sm:10,md:10,lg:8,children:Object(n.jsx)(v,{classes:a,coins:c,loading:r,setPrice:function(e){void 0!==e&&d(e)},diff:l})})]})})},W=t(48),T=t(159),U=Object(T.a)((function(e){return{root:{minWidth:"900px",maxWidth:"1360px",padding:e.spacing(12),paddingTop:e.spacing(10)},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},inputWrapper:{display:"flex",justifyContent:"space-around",marginBottom:25},gridWrapper:Object(W.a)({display:"flex",minWidth:"555px"},e.breakpoints.down("md"),{justifyContent:"center"}),tableRow:{cursor:"pointer"},priceUp:{background:"#00800075"},priceDown:{background:"#ff00005c"}}}));var F=function(){var e=U(),a=Object(o.b)();return i.a.useEffect((function(){a(d());var e=setInterval((function(){a({type:"GET_OLD_PRICE"}),a(d())}),3e4);return function(){return clearInterval(e)}}),[]),Object(n.jsx)(s.a,{className:e.root,children:Object(n.jsx)(D,{classes:e})})},A=t(32),k=t(68),L=t(41),M={allCoins:[],allCoinsOldPrice:[],diff:[],loading:!0},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_CRYPTO":return Object(I.a)(Object(I.a)({},e),{},{allCoins:void 0===a.payload?[]:Object(L.a)(a.payload),loading:!1});case"GET_OLD_PRICE":return Object(I.a)(Object(I.a)({},e),{},{allCoinsOldPrice:Object(L.a)(e.allCoins.map((function(e){return e.price})))});case"COMPARE_PRICES":var t=Object(I.a)(Object(I.a)({},e),{},{diff:e.allCoinsOldPrice[0]!==a.payload[0]?Object(L.a)(e.allCoinsOldPrice.map((function(e,t){return a.payload[t]-e}))):Object(L.a)(e.diff)});return t;case"SET_LOADING":var n=!1;return e.diff.includes(0)||(n=!0),console.log(n),Object(I.a)(Object(I.a)({},e),{},{loading:n});default:return e}},H=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.c,V=Object(A.d)(G,H(Object(A.a)(k.a)));l.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(o.a,{store:V,children:Object(n.jsx)(F,{})})}),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.6da48793.chunk.js.map